{"version":3,"sources":["webpack://SimpleSvgGauge/webpack/universalModuleDefinition","webpack://SimpleSvgGauge/webpack/bootstrap","webpack://SimpleSvgGauge/webpack/runtime/define property getters","webpack://SimpleSvgGauge/webpack/runtime/hasOwnProperty shorthand","webpack://SimpleSvgGauge/webpack/runtime/make namespace object","webpack://SimpleSvgGauge/./src/js/index.js"],"names":["SimpleSvgGauge","sections","$this","currentRotation","lastRotation","forEach","call","circles","el","i","strokeWidth","parseInt","window","getComputedStyle","setAttribute","width","height","radius","getAttribute","circumference","Math","PI","percentage","validatePercentage","rotation","offset","length","style","strokeDasharray","strokeDashoffset","gsap","to","duration","transformOrigin","transform","percentageToDegree","degree","needle","console","error","gauge","document","querySelector","querySelectorAll"],"mappings":"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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"SimpleSvgGauge\"] = factory();\n\telse\n\t\troot[\"SimpleSvgGauge\"] = factory();\n})(self, function() {\nreturn ","// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","class SimpleSvgGauge {\n  constructor() {\n    this.gauge = document.querySelector(\".js-simple-svg-gauge\");\n    this.needle = document.querySelector(\".js-simple-svg-gauge-needle\");\n    this.circles = this.gauge.querySelectorAll(\"circle\");\n    this.width = this.gauge.getAttribute(\"width\");\n    this.height = this.gauge.getAttribute(\"height\");\n  }\n\n  setSections = function (sections) {\n    const $this = this;\n    const currentRotation = 180;\n    let lastRotation = 0;\n\n    // loop all circles\n    [].forEach.call(this.circles, function (el, i) {\n      const strokeWidth = parseInt(window.getComputedStyle(el).strokeWidth, 10);\n\n      el.setAttribute(\"cx\", $this.width / 2);\n      el.setAttribute(\"cy\", $this.height / 2);\n      el.setAttribute(\"r\", $this.width / 2 - strokeWidth / 2);\n\n      const radius = el.getAttribute(\"r\");\n      const circumference = radius * 2 * Math.PI;\n      const percentage = $this.validatePercentage(sections[i]);\n      const rotation = parseInt(currentRotation + lastRotation, 10);\n      let offset = circumference - ((percentage / 100) * circumference) / 2;\n\n      if (i < $this.circles.length - 1) {\n        offset += 2;\n      }\n\n      el.style.strokeDasharray = circumference + \" \" + circumference;\n      el.style.strokeDashoffset = offset;\n\n      // use gsap for transform if available for IE 11 support\n      if (typeof gsap !== \"undefined\") {\n        gsap.to(el, {\n          duration: 0,\n          rotation: rotation,\n          transformOrigin: \"50% 50%\",\n        });\n      } else {\n        el.style.transform = \"rotate(\" + rotation + \"deg)\";\n      }\n\n      lastRotation = lastRotation + $this.percentageToDegree(percentage);\n    });\n  };\n\n  setStatus = function (percentage) {\n    const degree = this.percentageToDegree(this.validatePercentage(percentage));\n\n    this.needle.style.transform =\n      \"rotate(\" + parseInt(270 + degree, 10) + \"deg) translate(0, 6px)\";\n  };\n\n  percentageToDegree = function (percentage) {\n    return (percentage / 100) * 180; // 180 deg for half circle\n  };\n\n  validatePercentage = function (percentage) {\n    if (!(percentage >= 0 && percentage <= 100)) {\n      percentage = 0;\n      console.error(\"Please use valid percentage values.\");\n    }\n\n    return percentage;\n  };\n}\n\nexport default SimpleSvgGauge;\n"],"sourceRoot":""}